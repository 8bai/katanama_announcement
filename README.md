# katanama_announcement
なぜか生放送の通知が来ない片生が放送開始したときに通知を送るスクリプトです

やってることはただのスクレイビング

Windows 10 のみで動作確認済みです　Win11は大丈夫だと思いますが、Macでの動作は(node.jsの扱い含め)保障していません

## 使用方法
右のrelease押してsource.zipをインストールする

解凍する

中にあるgitうんたらは不要

## 必要なもの
* node.js (ver 18 LTS)

↑ネットのダウンロードはこれだけでいいですが、以下のライブラリをインストールする必要があります

* puppeteer

* node-notifier

* open

インストールしたファイルでコマンドプロンプトを開き、npm install puppeteer のように打ち込むとインストールできます

## パラメータ
background.jsが本体です　メモ帳とかで開くと上にパラメータがあります

* URL: 監視するニコ生のコミュニティです　標準では片生が入ってます　ここのurlを変えると他の人の生放送も監視できます

* SearchIntervalTimeMs: スクレイビングする時間間隔です　※注意　小さい値にするのはまずいことになるのでやめてください(後述)

* SearchTimeoutTimeMs: スクレイビングの制限時間です　基本変えなくていいと思います

* IsShowConsoleLog: スクレイビング回数を表示するかしないか　falseにすると非表示になります

* IsSearchingForever: 生放送が始まった後も稼働するか　30分毎に枠変えるような人に有効かも

## 注意
スクレイビング(自動的にサイトを巡回し、データを取っていく行為)は色々グレーです　特に、スクレイビングの頻度が高くなるとニコニコのサーバに負荷がかかり、色々文句言われる可能性があるのでSearchIntervalTimeMsは必ず60秒以上にしてください

このツールを使ったことによる不利益に対し、私は一切の責任を負いません

バグがあったり、うまく動かない場合は私に言ってください